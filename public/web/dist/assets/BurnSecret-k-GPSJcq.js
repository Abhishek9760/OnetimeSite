import{d as v,u as w,m as x,o as a,c as o,e as t,b as e,F as y,f as c,t as r,g as n}from"./main-CBJljsce.js";import{a as M}from"./useFetchData-B2ITb3da.js";const O={key:0,class:"px-4 py-3 rounded relative border bg-red-100 border-red-400 text-red-700 dark:bg-red-800 dark:border-red-600 dark:text-red-100 mb-4"},C=e("strong",{class:"font-bold"},"Cannot burn!",-1),N={class:"block sm:inline"},$=["href"],B={key:1},S={class:"mb-6"},F={class:"text-lg text-gray-600 dark:text-gray-400"},T={key:0,class:"text-xl font-semibold mt-2 text-gray-800 dark:text-gray-200"},A={method:"POST",class:"space-y-4"},D=["value"],V=e("input",{type:"hidden",name:"continue",value:"true"},null,-1),z={key:0},E=e("input",{type:"password",name:"passphrase",id:"passField",class:"w-full px-3 py-2 border rounded-md border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-600 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-brand-500",placeholder:"Enter the passphrase here"},null,-1),K=[E],j={type:"submit",class:"w-full py-2 px-4 rounded-md bg-yellow-400 text-gray-800 hover:bg-yellow-300 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition duration-200 flex items-center justify-center"},q=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",width:"20",height:"20"},[e("path",{"fill-rule":"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z","clip-rule":"evenodd"})],-1),P=["href"],R=e("hr",{class:"border-gray-300 dark:border-gray-600"},null,-1),G={class:"text-md text-gray-600 dark:text-gray-400"},L=v({__name:"BurnSecret",props:{metadataKey:{}},setup(b){const f=w(),m=b,{record:i,details:s,fetchData:k}=M({url:`/api/v2/private/${m.metadataKey}`});return x(k),(d,H)=>{var l,u,h,_,g,p;return a(),o("div",null,[(l=t(s))!=null&&l.is_destroyed?(a(),o("div",O,[C,e("template",null,[e("span",N,[t(s).is_received?(a(),o(y,{key:0},[c(" The secret has already been viewed ("+r(t(s).received_date)+"). ",1)],64)):n("",!0),t(s).is_burned?(a(),o(y,{key:1},[c(" The secret has already been burned ("+r(t(s).burned_date)+"). ",1)],64)):n("",!0)])]),e("a",{href:(u=t(i))==null?void 0:u.metadata_url,class:"block w-full py-2 px-4 mt-2 bg-gray-200 text-gray-700 rounded text-center hover:bg-gray-300 transition duration-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"},"Back",8,$)])):(a(),o("div",B,[e("div",S,[e("span",F,r(d.$t("web.COMMON.secret"))+": "+r((h=t(i))==null?void 0:h.secret_shortkey),1),(_=t(s))!=null&&_.has_passphrase?(a(),o("h2",T,r(d.$t("web.private.requires_passphrase")),1)):n("",!0)]),e("form",A,[e("input",{type:"hidden",name:"shrimp",value:t(f).shrimp},null,8,D),V,(g=t(s))!=null&&g.has_passphrase?(a(),o("div",z,K)):n("",!0),e("button",j,[q,c(" "+r(d.$t("web.COMMON.word_confirm"))+": "+r(d.$t("web.COMMON.burn_this_secret")),1)]),e("a",{href:(p=t(i))==null?void 0:p.metadata_url,class:"block w-full py-2 px-4 rounded text-center bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 transition duration-200"},r(d.$t("web.COMMON.word_cancel")),9,P),R,e("p",G,r(d.$t("web.COMMON.burn_this_secret_confirm_hint")),1)])]))])}}});export{L as default};
