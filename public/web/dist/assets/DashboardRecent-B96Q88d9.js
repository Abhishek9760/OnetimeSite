import{d as y,j as v,o as a,c as s,b as o,f as n,t as r,g as h,n as f,F as l,k as b,i as d,w as k,l as w,m as $,e as p}from"./main-DAdj96k2.js";import{u as x}from"./useFetchData-CotLmwbY.js";import{_ as C}from"./DashboardTabNav.vue_vue_type_script_setup_true_lang-CGkKTkDR.js";const O=["href","title"],N={key:0,class:"text-gray-600 dark:text-gray-400"},R=o("span",{class:"text-gray-500 dark:text-gray-400 ml-2"},"-",-1),I=["title"],D=["href","title"],E=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 inline",viewBox:"0 0 20 20",fill:"currentColor",width:"20",height:"20"},[o("path",{"fill-rule":"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z","clip-rule":"evenodd"})],-1),V=[E],g=y({__name:"SecretMetadataTableItem",props:{secretMetadata:{}},setup(_){const t=_,c=v(()=>t.secretMetadata.is_destroyed?"line-through italic text-gray-400 dark:text-gray-500":"no-underline"),i=v(()=>`${t.secretMetadata.shortkey}`);return(e,u)=>(a(),s(l,null,[o("a",{href:e.secretMetadata.uri,class:f([c.value,"hover:text-brand-500 dark:hover:text-brand-500 transition-colors"]),title:e.secretMetadata.is_destroyed?"RECEIVED":"NOT RECEIVED"},[n(r(i.value)+" ",1),e.secretMetadata.show_recipients?(a(),s("span",N," ("+r(e.$t("web.COMMON.sent_to"))+" "+r(e.secretMetadata.recipients)+") ",1)):h("",!0)],10,O),R,o("em",{class:"text-gray-500 dark:text-gray-400 italic",title:e.secretMetadata.updated},r(e.secretMetadata.is_received?e.$t("web.COMMON.word_received"):"")+" "+r(e.secretMetadata.is_burned?e.$t("web.COMMON.word_burned"):"")+" "+r(e.secretMetadata.stamp),9,I),e.secretMetadata.is_destroyed?h("",!0):(a(),s("a",{key:0,href:`${e.secretMetadata.uri}/burn`,class:"burn-secret ml-2 text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300 transition-colors",title:e.$t("web.COMMON.burn_this_secret")},V,8,D))],64))}}),B={class:"space-y-8"},T={class:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200"},z={key:0,class:"space-y-1"},A={key:1,class:"text-gray-600 dark:text-gray-400 italic"},F={class:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200"},S={key:0,class:"space-y-1"},G={key:1,class:"text-gray-600 dark:text-gray-400 italic"},j={key:1},K={class:"text-2xl font-semibold mb-4 text-gray-800 dark:text-gray-200"},L={class:"text-gray-600 dark:text-gray-400 italic"},q=y({__name:"SecretMetadataTable",props:{hasItems:{type:Boolean},notReceived:{},received:{}},setup(_){return(t,c)=>{const i=w("router-link");return a(),s("div",B,[t.hasItems?(a(),s(l,{key:0},[o("section",null,[o("h3",T,r(t.$t("web.dashboard.title_not_received")),1),t.notReceived?(a(),s("ul",z,[(a(!0),s(l,null,b(t.notReceived,e=>(a(),s("li",{key:e.identifier},[d(g,{secretMetadata:e},null,8,["secretMetadata"])]))),128))])):(a(),s("p",A,[n(" Go on then. "),d(i,{to:"/",class:"text-brand-500 hover:underline"},{default:k(()=>[n(r(t.$t("web.COMMON.share_a_secret")),1)]),_:1}),n("! ")]))]),o("section",null,[o("h3",F,r(t.$t("web.dashboard.title_received")),1),t.received?(a(),s("ul",S,[(a(!0),s(l,null,b(t.received,e=>(a(),s("li",{key:e.identifier},[d(g,{secretMetadata:e},null,8,["secretMetadata"])]))),128))])):(a(),s("p",G,r(t.$t("web.COMMON.word_none")),1))])],64)):h("",!0),t.hasItems?h("",!0):(a(),s("section",j,[o("h3",K,r(t.$t("web.dashboard.title_no_recent_secrets")),1),o("p",L,[n(" Go on then. "),d(i,{to:"/",class:"text-brand-500 hover:underline"},{default:k(()=>[n(r(t.$t("web.COMMON.share_a_secret")),1)]),_:1}),n("! ")])]))])}}}),Q=y({__name:"DashboardRecent",setup(_){const{details:t,fetchData:c}=x({url:"/api/v2/private/recent"});return $(c),(i,e)=>{var u,m,M;return a(),s("div",null,[d(C),d(q,{hasItems:(u=p(t))==null?void 0:u.has_items,notReceived:(m=p(t))==null?void 0:m.notreceived,received:(M=p(t))==null?void 0:M.received,title:"Received"},null,8,["hasItems","notReceived","received"])])}}});export{Q as default};
